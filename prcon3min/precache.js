!function(e){if(!("navigator"in e&&"serviceWorker"in navigator&&Promise))return e.precache=function(){};var r,a,h=function(e,n){if(void 0!==h&&!(h instanceof Object))return n;var t={};for(var c in e)t[c]=e[c];for(var c in n)t[c]=n[c];return t},c=function(i){return new Promise(function(t,c){!function e(){try{var n=i();n?t(n):setTimeout(e,0)}catch(e){c(e)}}()})},i=function(e,n){e.active.postMessage({type:"update",s:n})},f=function(e,n){e.active.postMessage({type:"install",s:n})},o=function(){navigator.serviceWorker.controller&&(alert("update found! The page will now reload."),e.location.reload())},s=function(a,e){var o=!1,s={changedFiles:0,minTime:!1},u=h({changedFiles:!1,minTime:!1},a.updateIf||{}),n=function(){s.changedFiles++,s.changedFiles===u.changedFiles.length&&(s.changedFiles=!0)},t=function(r){return fetch(r,{cache:"no-cache"}).then(function(e){var n,t,c,i;t=r,i=(n=e).clone(),t="@:precacheJS_"+t+"_",caches.open(a.tempCacheName).then(function(e){return c=e.match(t),Promise.all([n.text(),c.then(function(e){return e?e.text():e})])}).then(function(e){return e[0]!==e[1]&&(o=!0),caches.open(a.tempCacheName).then(function(e){e.put(t,i)})}).then(function(){s.changedFiles++,s.changedFiles===u.changedFiles.length&&(s.changedFiles=!0)})},n)};u.changedFiles?u.changedFiles.forEach(function(e,n){t(e)}):s.changedFiles=!0,!1!==u.minTime&&Date.now()>=u.minTime&&(o=!0),s.minTime=!0,c(function(){return!0===s.changedFiles&&!0===s.minTime}).then(function(){o?i(e,a):f(e,a)},console.error)};e.precache=function(c,i){window.addEventListener("load",function(){i=i||"@:precacheJS_TEMP_CACHE_",new Promise(function(n,e){if(c.constructor!==String)return c;var t="@:precacheJS_"+c+"_OPTIONS_";fetch(c,{cache:"no-cache"}).then(function(n){return caches.open(i).then(function(e){e.put(t,n)}),n.clone()},function(e){return caches.open(i).then(function(e){return e.match(t)})}).then(function(e){n(e?e.json():{})})}).then(function(e){var t,n;e=h({cacheFiles:{},cacheName:"precaches",updateIf:!1,serviceWorkerFile:"./sw.js",scope:"./",checkServiceWorkers:!0},e),(a=e).tempCacheName=i,n=t=e,caches.open(n.tempCacheName).then(function(e){return e.put("@:precacheJS_cacheName_",new Response(n.cacheName))}).then(function(){navigator.serviceWorker.addEventListener("message",function(e){(e.data.type="reload")&&o()}),navigator.serviceWorker.register(n.serviceWorkerFile,{scope:n.scope}).then(function(n){console.info("ServiceWorker registration successful with scope: ",n.scope),s(t,n),r=n,navigator.serviceWorker.controller&&(n.waiting?n.waiting.postMessage({updateSw:!0}):(n.installing&&n.addEventListener("statechange",function(){if("installed"==n.installing.state)return console.info("show toast and upon click update..."),void n.installing.postMessage({updateSw:!0})}),n.addEventListener("updatefound",function(){var e=n.installing;e.addEventListener("statechange",function(){"installed"==e.state&&(console.info("show toast and upon click update..."),e.postMessage({updateSw:!0}))})})))},function(e){console.info("ServiceWorker registration failed: ",e)}),navigator.serviceWorker.addEventListener("controllerchange",function(){o()})})})})},e.precache.cache=function(c){return{add:function(n,t){return caches.open(c).then(function(e){return t?e.put(n,t):e.add(n)})},get:function(n){var e=caches.open(c).then(function(e){return e.match(n)});return{to:function(n){return e.then(function(e){return e?n?e[n]():e:void 0})},then:e.then}}}},e.precache.worker=c(function(){return r}),e.precache.options=c(function(){return a}),e.precache.updateCache=i,e.precache.installCache=f}(window);