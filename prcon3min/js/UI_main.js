!function(){"use stict";A({addFromText:function(e,t){var n=this.a(),l=document.createElement("div");return l.innerHTML=e,l.children.all(function(e){e.paste({in:n,pos:t})}),n},br:function(){var e=this.a();return e.parentNode.insertAfter(A.createElem("br"),e),e}}),window.UI={toTopLayer:function(e){var t=(e=e.a()).parentNode.child("[toplayer]");return t&&t.opt({toplayer_queue:UI.getLargestLayer(e.parentNode)+1,toplayer:""}),e.opt({toplayer_queue:"",toplayer:"."}),e},getAct:function(e,t,n){var l=".sources>[act="+e+"]",o=t||l.all(function(e){return e.html()}).return[0]||window.JS_SRC[e],a=n||{};return Preprocess({js:function(e){return Function("selfAct,_",e+"\n;")(l,a)},set:function(e){return Function("selfAct,_","return "+e+";")(l,a)},scrollplane:function(e){var t,n,l,o,a=e.split(",");return n=(e=a.splice(0,1)[0]).toLowerCase(),t=e.match(/attrs.*?[\s\S\t\r\n\v]*?:(.*)/im),a=a.join(","),l=-1<(l=n.indexOf("y"))&&(!t||l<t.index),o=-1<(o=n.indexOf("x"))&&(!t||o<t.index),"<f-scrollplane "+(t?t[1]:"")+" >"+a+"</f-scrollplane>"+(l?"<f-scroll-y><f-wheel></f-wheel></f-scroll-y>":"")+(o?"<f-scroll-x><f-wheel></f-wheel></f-scroll-x>":"")}},{start:"@",bodyStart:"::",end:"::@"},o)},getLargestLayer:function(e,t){var n,l=0,o=0;return e.child("[toplayer_queue]",!0).all(function(e){l=parseFloat(e.opt("toplayer_queue")),o<l&&(o=l,n=e)}),t?n:o},setSrcToPlace:function(e,t,n){var l="[act="+e+"]",o=!1;return!t||(".srcplace>"+l).a(!0).length<1?UI.toTopLayer(o=".srcplace".addElem("div",{act:e,class:"back",_TXT:UI.getAct(e,n)})):o=UI.toTopLayer((".srcplace>"+l).a()),o},setLSToPlace:function(e,t){var n=!1;return e=e.child(".lsplace",!1,!0)||e.addElem("div",{class:"lsplace"}),t?e.child(".loadscreen",!0).length<1&&(n=!0,e.addElem("div",{class:"loadscreen",_TXT:UI.getAct("loadscreen")})):e.html(""),n},easyCancel:function(e){var t=e.parent(function(e){return e.hasClass("back")}),n=t.parentNode.child("[toplayer]")===t&&UI.getLargestLayer(t.parentNode,!0);t.remElem(),n&&UI.toTopLayer(n)},closeDialog:function(e){(e=(".dialog[uid="+e+"]").a())&&((e=[e,e.previousElement],e[0]).remElem(),".dialogback".a().children.length?UI.toTopLayer(e[1]):".dialogback".opt({hidden:"."}))},dialogPanel:function(e){window.focus();var n,a=A.args({content:[{type:"message",text:"Warning!!!"},{type:"button",btntext:"ok",btnID:"ok"},{type:"button",btntext:"cancel",btnID:"cancel"}],func:function(){}},e),c=".dialogback".addElem("div",{class:"dialog",uid:UID.get(),_TXT:"<f-scrollplane></f-scrollplane><f-scroll-y no='.'><f-wheel></f-wheel></f-scroll-y><div class='downmenu'></div>"}),r=0,i=function(e){var t={pressed:e.toElement.opt("bid"),values:{},checked:{},fileLists:{}};c.child("f-scrollplane>input,f-scrollplane>textarea",!0).all(function(e){t.values[e.opt("iid")]=e.val()}),c.child("f-scrollplane>.uploaderstyle>input",!0).all(function(e){t.fileLists[e.opt("uid")]=e.files}),c.child("f-scrollplane>.chbstyle>input",!0).all(function(e){t.checked[e.opt("cid")]=e.checked}),UI.closeDialog(c.opt("uid")),a.func(t)};UI.toTopLayer(c),".dialogback".opt({hidden:""}),n=c.child("f-scrollplane"),a.content.all(function(e,t){switch(e.type){case"message":n.addElem("pre",{class:"message",_TXT:e.text}).opt(e.opt||{});break;case"button":"[act=dialogInputSrc]>button".copy({pasteIn:c.child(".downmenu")}).opt({bid:e.btnID,_TXT:e.btntext,_LIS:[{click:i}],onEnter:e.btnID===a.onEnter?".":"",onEsc:e.btnID===a.onEsc?".":""}).opt(e.opt||{});break;case"textarea":case"input":("[act=dialogInputSrc]>"+e.type).copy({pasteIn:n}).opt({iid:e.inpID}).opt(e.opt||{})[r<1?(r++,"focus"):"a"]();break;case"checkbox":"[act=dialogInputSrc]>.chbstyle".copy({pasteIn:n,deep:!0}).br.child("input").opt({cid:e.chcID}).opt(e.opt||{}).parentNode.child("text").html=e.chctext;break;case"uploader":var l="[act=dialogInputSrc]>.uploaderstyle".copy({pasteIn:n}).child("input").opt({uid:e.uplID,accept:e.accept||"",multiple:e.multiple?"true":""}).opt(e.opt||{}),o=l.parentNode.child("div");o.html=e.upltext||"",l.addEventListener("change",function(){for(var e="",t=0,n=l.files.length;t<n;t++)e+=l.files[t].name+"<br>";o.html=e})}})},errors:function(n,l){(l=function(){if(n.length){var e,t=n.splice(0,1)[0];"no password"===t&&(t="wrong password"),e=t.tr,UI.dialogPanel({content:[{type:"message",text:e},{type:"button",btnID:"ok",btntext:"ok"}],onEnter:"ok",onEsc:"ok",func:function(){l()}})}})()}}}();